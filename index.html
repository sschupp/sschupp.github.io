<!DOCTYPE html>
<html>
<head>
  <title>It's Coming Soon</title>
  <style>
    $flipColour: #fff;
    $flipColourDark: darken($flipColour, 35%);
    $textColour: #333;
    $textColourDark: darken($textColour, 35%);
    
    body {
      background-image: url("bg.png");
      font-family: sans-serif;
      text-align: center;
    }
    #logo {
      position: absolute;
      top: 20px;
      left: 20px;
      width: 5%;
    }
    #container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
    h1 {
      font: 800 40px Arial;
      -webkit-text-fill-color: white;
      -webkit-text-stroke: 1px;
      margin: 20px 0;
    }
    .flap {
	display: none;
	position: absolute;
	width: 100%;
	height: 50%;
	background-color: $flipColour;
	left: 0;
	top: 0;
	border-radius: 1vw 1vw 0 0;
	transform-origin: 50% 100%;
	backface-visibility: hidden;
	overflow: hidden;
	
	&::before {
		content: attr(data-content);
		position: absolute;
		left: 50%;
	}
	
	&.front::before,
	&.under::before {
		top: 100%;
		transform: translate(-50%, -50%);
	}
	
	&.back {
		transform: rotateY(180deg);
		&::before {
			top: 100%;
			transform:  translate(-50%, -50%) rotateZ(180deg);
		}
	}

	&.over {
		z-index: 2;
	}
	
	&.under {
		z-index: 1;
	}
	
	&.front {
		animation: flip-down-front 300ms ease-in both;
	}
	
	&.back {
		animation: flip-down-back 300ms ease-in both;
	}
	
	&.under {
		animation: fade-under 300ms ease-in both;
	}
	
}

@keyframes flip-down-front {
	0% {
		transform: rotateX(0deg);
		background-color: $flipColour;
		color: $textColour;
	}
	100% {
		transform: rotateX(-180deg);
		background-color: $flipColourDark;
		color: $textColourDark;
	}
}

@keyframes flip-down-back {
	0% {
		transform: rotateY(180deg) rotateX(0deg);
		background-color: $flipColourDark;
		color: $textColourDark;
	}
	100% {
		transform: rotateY(180deg) rotateX(180deg);
		background-color: $flipColour;
		color: $textColour;
	}
}

@keyframes fade-under {
	0% {
		background-color: $flipColourDark;
		color: $textColourDark;
	}
	100% {
		background-color: $flipColour;
		color: $textColour;
	}
}

.clock {
	position: absolute;
	width: 70vw;
	top: 50%;
	left: 15vw;
	transform: translateY(-50%);
	perspective: 100vw;
	perspective-origin: 50% 50%;
	
	.digit {
		margin-right: 1vw;
		&:nth-child(2n+2) { margin-right: 3.5vw; }
		&:last-child { margin-right: 0; }
	}
  </style>
</head>
<body>
  <img id="logo" src="logo.png" alt="Logo">
  <div id="container">
    <h1>Bald beginnt das Feierjahr</h1>
    <div class="clock">
    
	<div class="digit tenday">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>
      
	<div class="digit day">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>
      
	<div class="digit tenhour">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>

	<div class="digit hour">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>
	
	<div class="digit tenmin">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>

	<div class="digit min">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>
	
	<div class="digit tensec">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>

	<div class="digit sec">
		<span class="base"></span>
		<div class="flap over front"></div>
		<div class="flap over back"></div>
		<div class="flap under"></div>
	</div>
	
</div>
  </div>
  <script>
    // Funktion, die den Timer aktualisiert
    function updateTimer() {
      // Hole das aktuelle Datum
      var currentDate = new Date();
      // Setze das neue Jahr auf den 1. Januar des n√§chsten Jahres
      var newYear = new Date(currentDate.getFullYear() + 1, 0, 1);
      // Berechne die verbleibende Zeit bis zum neuen Jahr in Millisekunden
      var timeLeft = newYear - currentDate;
      // Konvertiere die verbleibende Zeit in Sekunden
      var seconds = Math.floor(timeLeft / 1000);
      // Berechne die verbleibende Zeit in Tagen, Stunden, Minuten und Sekunden
      var days = Math.floor(seconds / 86400); // 86400 Sekunden sind ein Tag
      seconds = seconds % 86400;
      var hours = Math.floor(seconds / 3600);
      seconds = seconds % 3600;
      var minutes = Math.floor(seconds / 60);
      seconds = seconds % 60;
      // Aktualisiere den Timer im HTML-Dokument
      document.getElementById("timer").innerHTML = days + " Tage " + hours + " Stunden " + minutes + " Minuten " + seconds + " Sekunden";
    }
    // Rufe die updateTimer()-Funktion alle 1000 Millisekunden (1 Sekunde)

    setInterval(updateTimer, 1000);
    
    function flipTo(digit, n){
	var current = digit.attr('data-num');
	digit.attr('data-num', n);
	digit.find('.front').attr('data-content', current);
	digit.find('.back, .under').attr('data-content', n);
	digit.find('.flap').css('display', 'block');
	setTimeout(function(){
		digit.find('.base').text(n);
		digit.find('.flap').css('display', 'none');
	}, 350);
}

function jumpTo(digit, n){
	digit.attr('data-num', n);
	digit.find('.base').text(n);
}

function updateGroup(group, n, flip){
	var digit1 = $('.ten'+group);
	var digit2 = $('.'+group);
	n = String(n);
	if(n.length == 1) n = '0'+n;
	var num1 = n.substr(0, 1);
	var num2 = n.substr(1, 1);
	if(digit1.attr('data-num') != num1){
		if(flip) flipTo(digit1, num1);
		else jumpTo(digit1, num1);
	}
	if(digit2.attr('data-num') != num2){
		if(flip) flipTo(digit2, num2);
		else jumpTo(digit2, num2);
	}
}

function setTime(flip){
	var t = new Date();
	updateGroup('hour', t.getHours(), flip);
	updateGroup('min', t.getMinutes(), flip);
	updateGroup('sec', t.getSeconds(), flip);
}

$(document).ready(function(){
	
	setTime(false);
	setInterval(function(){
		setTime(true);
	}, 1000);
	
});
  </script>
</body>
</html>
